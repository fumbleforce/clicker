<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="../css/style.css"></link>
        <script src="../js/angular.js"></script>
        <script src="../js/game.js"></script>
    </head>
    <body ng-app="game" ng-controller="DataCtrl">
        <div id="gameWrapper" ng-controller="GameCtrl">
            <div id="topView" class="view">
                <ul class="inlineList center">
                    <li>
                        Wood <span>{{ data.resources.wood | integer }}</span>
                    </li>
                    <li>
                        Stone <span>{{ data.resources.stone | integer }}</span>
                    </li>
                    <li>
                        Meat <span>{{ data.resources.meat | integer }}</span>
                    </li>
                </ul>
            </div>
            <div id="gameView" class="view" ng-controller="ResourceCtrl">
                <h1 class="centerText title">{{ data.town_name }}</h1>
                
                <button class="tree resource" ng-click="chop_wood()">
                    <img src="../img/tree.png" onmousedown="return false"></img>
                </button>
                
                <button class="stone resource" ng-click="mine_stone()" ng-repeat="i in getNumber(14)" style="left:{{$index}}00px; top:{{ random_top($index) }}px; z-index:{{ random_top($index) }};">
                    <img src="../img/mnt.png" height="200" width="200" onmousedown="return false"></img>
                </button>

                <button class="meat resource" ng-click="hunt()">
                    <img src="../img/fox.png" onmousedown="return false"></img>
                </button>

                <div class="workerContainer hunterContainer">
                    <span class="worker hunter" ng-repeat="hunter in data.workers.hunters">Hunter</span>
                </div>
                <div class="workerContainer minerContainer">
                    <span class="worker miner" ng-repeat="miner in data.workers.miners">Miner</span>
                </div>
                <div class="workerContainer loggerContainer">
                    <span class="worker logger" ng-repeat="logger in data.workers.loggers">Logger</span>
                </div>
            </div>
            <div id="managerView" class="view" ng-controller="ManagerCtrl">
                <ul id="buyList" class="verticalList left">
                    <li>
                        BUY
                    </li>
                    <li>
                        <button ng-click="buy_worker('logger')">Logger</button>
                    </li>
                    <li>
                        <button ng-click="buy_worker('miner')">Miner</button>
                    </li>
                    <li>
                        <button ng-click="buy_worker('hunter')">Hunter</button>
                    </li>
                </ul>
                <ul id="buyList" class="verticalList left">
                    <li>
                        BUY
                    </li>
                    <li>
                        <button ng-click="buy_building('forge')">Forge</button>
                    </li>
                    <li>
                        <button ng-click="buy_building('workshop')">Workshop</button>
                    </li>
                    <li>
                        <button ng-click="buy_building('logging_camp')">Logging Camp</button>
                    </li>
                    <li>
                        <button ng-click="buy_building('butchery')">Butchery</button>
                    </li>
                    <li>
                        <button ng-click="buy_building('town_center')">Town Center</button>
                    </li>
                    <li>
                        <button ng-click="buy_building('granary')">Granary</button>
                    </li>
                </ul>

                <div class="left buildingContainer">
                    <span class="building" ng-repeat="b in data.buildings">{{ b.name }} x{{ b.amount }}</span>
                </div>
                <button ng-click="save()">Save</button>
                <button ng-click="new_game()">New Game</button>
                <input type="text" ng-model="data.town_name" placeholder="{{ data.town_name }}"></input>
            </div>
        </div>
    </body>
</html>
